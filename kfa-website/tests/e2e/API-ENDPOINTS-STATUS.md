# –°—Ç–∞—Ç—É—Å API Endpoints –¥–ª—è KFA Platform

**–î–∞—Ç–∞:** 2025-10-23

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/login` - –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/logout` - –í—ã—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/user` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–æ–Ω—Ç–µ–Ω—Ç
- `GET /api/news` - –°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π
- `POST /api/news` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ—Å—Ç—å (ADMIN, MEMBER)
- `GET /api/news/{id}` - –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å
- `PUT /api/news/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å
- `DELETE /api/news/{id}` - –£–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å (ADMIN)

### –°–æ–±—ã—Ç–∏—è
- `GET /api/events` - –°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π
- `POST /api/events` - –°–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ (ADMIN)
- `GET /api/events/{id}` - –ü–æ–ª—É—á–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
- `PUT /api/events/{id}` - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ (ADMIN)
- `DELETE /api/events/{id}` - –£–¥–∞–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ (ADMIN)

### –£—á–∞—Å—Ç–Ω–∏–∫–∏
- `GET /api/members` - –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `POST /api/members` - –°–æ–∑–¥–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `GET /api/members/{id}` - –ü–æ–ª—É—á–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `PUT /api/members/{id}` - –û–±–Ω–æ–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `DELETE /api/members/{id}` - –£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞

### –ü—Ä–æ–≥—Ä–∞–º–º—ã
- `GET /api/programs` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º
- `POST /api/programs` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
- `GET /api/programs/{id}` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
- `PUT /api/programs/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
- `DELETE /api/programs/{id}` - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É

---

## ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ Endpoints (—Ç—Ä–µ–±—É—é—Ç—Å—è –¥–ª—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

### 1. –ó–∞—è–≤–∫–∏ –Ω–∞ —á–ª–µ–Ω—Å—Ç–≤–æ (Membership Applications)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô**

- `POST /api/applications` - –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É (USER, MEMBER)
- `GET /api/applications` - –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (USER, MEMBER)
- `GET /api/applications/all` - –í—Å–µ –∑–∞—è–≤–∫–∏ (ADMIN)
- `PUT /api/applications/{id}/approve` - –û–¥–æ–±—Ä–∏—Ç—å –∑–∞—è–≤–∫—É (ADMIN)
- `PUT /api/applications/{id}/reject` - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É (ADMIN)
- `GET /api/applications/{id}` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫—É

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - Membership Application Process (7 —Ç–µ—Å—Ç–æ–≤)

### 2. –ü–ª–∞—Ç–µ–∂–∏ (Payments)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô**

- `POST /api/payments` - –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂ (MEMBER)
- `GET /api/payments` - –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (MEMBER)
- `GET /api/payments/all` - –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ (ADMIN)
- `PUT /api/payments/{id}/confirm` - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–ª–∞—Ç–µ–∂ (ADMIN)
- `GET /api/payments/{id}` - –ü–æ–ª—É—á–∏—Ç—å –ø–ª–∞—Ç–µ–∂

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - Payment Processing (6 —Ç–µ—Å—Ç–æ–≤)

### 3. –ö—É—Ä—Å—ã –∏ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Courses & Certificates)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

- `GET /api/courses` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ (MEMBER)
- `POST /api/enrollments` - –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫—É—Ä—Å (MEMBER)
- `GET /api/enrollments` - –ú–æ–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫—É—Ä—Å—ã (MEMBER)
- `GET /api/enrollments/{id}/progress` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å—É (MEMBER)

- `POST /api/exams/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —ç–∫–∑–∞–º–µ–Ω (MEMBER)
- `GET /api/exams` - –°–ø–∏—Å–æ–∫ —ç–∫–∑–∞–º–µ–Ω–æ–≤ (MEMBER)

- `POST /api/certificates` - –í—ã–¥–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (ADMIN)
- `GET /api/certificates` - –ú–æ–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (MEMBER)
- `GET /api/certificates/verify/{credential_id}` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (PUBLIC)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - Certification Process (7 —Ç–µ—Å—Ç–æ–≤)

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–ª–µ–Ω—Å—Ç–≤–æ–º (Membership Lifecycle)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

- `GET /api/membership/status` - –°—Ç–∞—Ç—É—Å —á–ª–µ–Ω—Å—Ç–≤–∞ (MEMBER)
- `GET /api/membership/notifications` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏ (MEMBER)
- `POST /api/membership/renew` - –ü—Ä–æ–¥–ª–∏—Ç—å —á–ª–µ–Ω—Å—Ç–≤–æ (MEMBER)
- `PUT /api/membership/{user_id}/extend` - –ü—Ä–æ–¥–ª–∏—Ç—å —á–ª–µ–Ω—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (ADMIN)
- `PUT /api/membership/{user_id}/downgrade` - –ü–æ–Ω–∏–∑–∏—Ç—å —Å—Ç–∞—Ç—É—Å (ADMIN)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - Membership Lifecycle (4 —Ç–µ—Å—Ç–∞)

### 5. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è (Event Registrations)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

- `POST /api/events/{id}/register` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ (USER, MEMBER)
- `GET /api/events/{id}/registrations` - –°–ø–∏—Å–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π (ADMIN)
- `GET /api/events/my-registrations` - –ú–æ–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (USER, MEMBER)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - Event Registration (4 —Ç–µ—Å—Ç–∞)

### 6. Dashboard (Dashboard Access Control)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô**

- `GET /api/dashboard/profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (USER)
- `GET /api/dashboard/main` - –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å (MEMBER)
- `GET /api/dashboard/payments` - –ü–∞–Ω–µ–ª—å –ø–ª–∞—Ç–µ–∂–µ–π (MEMBER)
- `GET /api/dashboard/certificates` - –ü–∞–Ω–µ–ª—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (MEMBER)
- `GET /api/dashboard/education` - –ü–∞–Ω–µ–ª—å –æ–±—É—á–µ–Ω–∏—è (MEMBER)
- `GET /api/dashboard/admin` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (ADMIN)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - Dashboard Access Control (11 —Ç–µ—Å—Ç–æ–≤)

### 7. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (User Management)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô**

- `GET /api/users` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (ADMIN)
- `PUT /api/users/{id}/role` - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)
- `GET /api/users/{id}/activity` - –õ–æ–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:** `business-processes.spec.ts` - User Management (5 —Ç–µ—Å—Ç–æ–≤)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

### `auth-roles.spec.ts`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** 9/14 passing (5 intentionally skipped)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ RBAC

### `business-processes.spec.ts`
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ backend endpoints
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 51
- **–†–∞–±–æ—Ç–∞—é—â–∏—Ö:** 0 (–≤—Å–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö endpoints)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** 8 –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏–∑ BUSINESS-PROCESSES-AND-ROLES.md

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–§–∞–∑–∞ 1 (–ö—Ä–∏—Ç–∏—á–Ω—ã–µ endpoints):**
   - –ó–∞—è–≤–∫–∏ –Ω–∞ —á–ª–µ–Ω—Å—Ç–≤–æ (`/api/applications`)
   - –ü–ª–∞—Ç–µ–∂–∏ (`/api/payments`)
   - –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: **~13 —Ç–µ—Å—Ç–æ–≤** –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç

2. **–§–∞–∑–∞ 2 (–í–∞–∂–Ω—ã–µ endpoints):**
   - –ö—É—Ä—Å—ã –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/courses`, `/api/certificates`)
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è (`/api/events/*/register`)
   - –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: **~11 —Ç–µ—Å—Ç–æ–≤** –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç

3. **–§–∞–∑–∞ 3 (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ endpoints):**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–ª–µ–Ω—Å—Ç–≤–æ–º (`/api/membership/*`)
   - Dashboard endpoints
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: **~20 —Ç–µ—Å—Ç–æ–≤** –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ BUSINESS-PROCESSES-AND-ROLES.md
- –¢–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö endpoints
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è seeded test accounts: `user@kfa.kg`, `member@kfa.kg`, `admin@kfa.kg`
- –í—Å–µ —Ç–µ—Å—Ç—ã –≤–∫–ª—é—á–∞—é—Ç –∫–∞–∫ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ (—á—Ç–æ —Ä–æ–ª—å –ú–û–ñ–ï–¢ –¥–µ–ª–∞—Ç—å), —Ç–∞–∫ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ (—á—Ç–æ —Ä–æ–ª—å –ù–ï –ú–û–ñ–ï–¢ –¥–µ–ª–∞—Ç—å) —Å—Ü–µ–Ω–∞—Ä–∏–∏

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-10-23
**–ê–≤—Ç–æ—Ä:** KFA Development Team
