# ‚úÖ –î–æ—Å—Ç—É–ø –∫ –†–∞–∑–¥–µ–ª–∞–º "–£—á–∞—Å—Ç–Ω–∏–∫–∏" –∏ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" - –ì–æ—Ç–æ–≤–æ!

**–î–∞—Ç–∞**: 2025-11-13
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

---

## üéØ –ß—Ç–æ –ë—ã–ª–æ –°–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –î–æ—Å—Ç—É–ø –ê–¥–º–∏–Ω—É –∫ –†–∞–∑–¥–µ–ª—É "–£—á–∞—Å—Ç–Ω–∏–∫–∏"

**Permissions:**

```
‚úÖ members.view   - –ø—Ä–æ—Å–º–æ—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚úÖ members.create - —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚úÖ members.update - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚úÖ members.delete - —É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
```

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:**

- ‚úÖ `/dashboard/members` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –ö–§–ê
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω permission check —Å `manage_members` –Ω–∞ `members.view`
- ‚úÖ –ü–æ–ª–Ω—ã–π CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 2. ‚úÖ –†–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°–∞–π—Ç–∞"

**Permissions:**

```
‚úÖ settings.view   - –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚úÖ settings.update - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```

**–°—Ç—Ä–∞–Ω–∏—Ü–∞:**

- ‚úÖ `/dashboard/settings` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ permission `settings.view`
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã"

### 3. ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ Permissions

–¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ permissions –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ CMS:

**Partners (–ü–∞—Ä—Ç–Ω–µ—Ä—ã):**

```
‚úÖ partners.view   - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
‚úÖ partners.create - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
‚úÖ partners.update - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
‚úÖ partners.delete - —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
```

---

## üöÄ –ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å JWT –¢–æ–∫–µ–Ω (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

**–û—Ç–∫—Ä–æ–π—Ç–µ:**

```
http://localhost:3000/auth/force-logout
```

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –û—á–∏—Å—Ç–∏—Ç —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω –±–µ–∑ –Ω–æ–≤—ã—Ö permissions
2. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
3. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —Å–æ –í–°–ï–ú–ò CMS permissions

### –®–∞–≥ 2: –í–æ–π—Ç–∏ –≤ –°–∏—Å—Ç–µ–º—É

```
Email: admin@kfa.kg
Password: (–∏–∑ .env —Ñ–∞–π–ª–∞ backend)
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –°–∞–π–¥–±–∞—Ä

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ Dashboard (`/dashboard`) –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ù–¢–ï–ù–¢–û–ú
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üì∞ –ù–æ–≤–æ—Å—Ç–∏          ‚Üê /dashboard/news
üìÖ –°–æ–±—ã—Ç–∏—è          ‚Üê /dashboard/events
üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏        ‚Üê /dashboard/members     ‚ú® –ù–û–í–´–ô –î–û–°–¢–£–ü
üñºÔ∏è –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã      ‚Üê /dashboard/media
ü§ù –ü–∞—Ä—Ç–Ω–µ—Ä—ã         ‚Üê /dashboard/partners
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏        ‚Üê /dashboard/settings    ‚ú® –ù–û–í–´–ô –†–ê–ó–î–ï–õ
```

---

## üìã –ß—Ç–æ –î–æ—Å—Ç—É–ø–Ω–æ –≤ –†–∞–∑–¥–µ–ª–∞—Ö

### üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ (`/dashboard/members`)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —á–ª–µ–Ω–æ–≤ –ö–§–ê
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ MediaPicker
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —á–ª–µ–Ω—Å—Ç–≤–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ü–æ–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞:**

```
- –ò–º—è
- Email
- –ö–æ–º–ø–∞–Ω–∏—è
- –î–æ–ª–∂–Ω–æ—Å—Ç—å
- –¢–µ–ª–µ—Ñ–æ–Ω
- –§–æ—Ç–æ
- –ë–∏–æ–≥—Ä–∞—Ñ–∏—è
- –î–∞—Ç–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
```

**API Endpoints:**

```
GET    /api/members              - —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
POST   /api/members              - —Å–æ–∑–¥–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
GET    /api/members/{id}         - –ø–æ–∫–∞–∑–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
PUT    /api/members/{id}         - –æ–±–Ω–æ–≤–∏—Ç—å
DELETE /api/members/{id}         - —É–¥–∞–ª–∏—Ç—å
GET    /api/members/public       - –ø—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥
```

---

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (`/dashboard/settings`)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤:
  - –¢–µ–∫—Å—Ç
  - –ß–∏—Å–ª–æ
  - Boolean (—á–µ–∫–±–æ–∫—Å)
  - JSON (textarea)
  - Textarea
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:**

```
üè¢ General          - –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
üìû Contact          - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
üì± Social           - –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
üîç SEO              - SEO –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
üìä Analytics        - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
üé® Theme            - –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
```

**API Endpoints:**

```
GET /api/settings         - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PUT /api/settings         - –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GET /api/settings/public  - –ø—É–±–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

**–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫:**

```json
{
  "site_name": "–ö–§–ê",
  "site_description": "–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è –ê—É–¥–∏—Ç–æ—Ä–æ–≤",
  "contact_email": "info@kfa.kg",
  "contact_phone": "+996 XXX XXX XXX",
  "social_facebook": "https://facebook.com/kfa",
  "social_instagram": "https://instagram.com/kfa",
  "seo_title": "–ö–§–ê - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞",
  "analytics_enabled": true
}
```

---

## üîí –°–∏—Å—Ç–µ–º–∞ Permissions

### –ü–æ–ª–Ω—ã–π –°–ø–∏—Å–æ–∫ CMS Permissions –¥–ª—è Admin:

```
–ö–û–ù–¢–ï–ù–¢ (–ù–û–í–û–°–¢–ò):
‚úÖ content.view      ‚úÖ content.create    ‚úÖ content.update    ‚úÖ content.delete

–°–û–ë–´–¢–ò–Ø:
‚úÖ events.view       ‚úÖ events.create     ‚úÖ events.update     ‚úÖ events.delete

–£–ß–ê–°–¢–ù–ò–ö–ò:          ‚Üê –ù–û–í–´–ï PERMISSIONS
‚úÖ members.view      ‚úÖ members.create    ‚úÖ members.update    ‚úÖ members.delete

–ü–ê–†–¢–ù–ï–†–´:           ‚Üê –†–ê–°–®–ò–†–ï–ù–ù–´–ï PERMISSIONS
‚úÖ partners.view     ‚úÖ partners.create   ‚úÖ partners.update   ‚úÖ partners.delete

–ú–ï–î–ò–ê–§–ê–ô–õ–´:
‚úÖ media.view        ‚úÖ media.upload      ‚úÖ media.delete

–ù–ê–°–¢–†–û–ô–ö–ò:          ‚Üê –ù–û–í–´–ï PERMISSIONS
‚úÖ settings.view     ‚úÖ settings.update
```

**–í—Å–µ–≥–æ: 22 permissions –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è CMS**

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Permissions –≤ –ë–î

```bash
cd kfa-backend/kfa-api
php artisan tinker
```

```php
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å permissions –¥–ª—è members –∏ settings
DB::table('permissions')
    ->whereIn('name', [
        'members.view', 'members.create', 'members.update', 'members.delete',
        'settings.view', 'settings.update'
    ])
    ->get(['name', 'display_name']);

// –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 6 permissions

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ admin –∏–º–µ–µ—Ç —ç—Ç–∏ –ø—Ä–∞–≤–∞
$admin = DB::table('roles')->where('name', 'admin')->first();
$count = DB::table('role_has_permissions')
    ->where('role_id', $admin->id)
    ->count();
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 22+ permissions
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç auth + members.view)
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://127.0.0.1:8000/api/members

# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç—Ä–µ–±—É–µ—Ç auth + settings.view)
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://127.0.0.1:8000/api/settings
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UI

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∞:

1. ‚úÖ Sidebar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–µ–∫—Ü–∏—é "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"
2. ‚úÖ "–£—á–∞—Å—Ç–Ω–∏–∫–∏" –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–µ–Ω—é
3. ‚úÖ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–µ–Ω—é
4. ‚úÖ –ö–ª–∏–∫ –Ω–∞ "–£—á–∞—Å—Ç–Ω–∏–∫–∏" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/dashboard/members`
5. ‚úÖ –ö–ª–∏–∫ –Ω–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/dashboard/settings`
6. ‚úÖ –û–±–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç (–Ω–µ "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞")

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–∏—Ç—å –£—á–∞—Å—Ç–Ω–∏–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/dashboard/members`
2. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   ```
   –ò–º—è: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
   Email: ivan@example.com
   –ö–æ–º–ø–∞–Ω–∏—è: –¢–û–û "–ü—Ä–∏–º–µ—Ä"
   –î–æ–ª–∂–Ω–æ—Å—Ç—å: –ì–ª–∞–≤–Ω—ã–π –∞—É–¥–∏—Ç–æ—Ä
   –¢–µ–ª–µ—Ñ–æ–Ω: +996 555 123 456
   ```
4. –ù–∞–∂–º–∏—Ç–µ **"–í—ã–±—Ä–∞—Ç—å"** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
5. –î–æ–±–∞–≤—å—Ç–µ –±–∏–æ–≥—Ä–∞—Ñ–∏—é (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
6. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

### –ò–∑–º–µ–Ω–∏—Ç—å –ù–∞—Å—Ç—Ä–æ–π–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/dashboard/settings`
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "General")
3. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:
   ```
   Site Name: –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è –ê—É–¥–∏—Ç–æ—Ä–æ–≤
   Site Description: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–æ–≤
   ```
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"**
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è –Ω–∞ –≤—Å–µ–º —Å–∞–π—Ç–µ

---

## üîß –ß—Ç–æ –ë—ã–ª–æ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. AddCMSPermissionsSeeder.php

**–î–æ:**

```php
$newPermissions = [
    ['name' => 'members.view', ...],  // –¢–æ–ª—å–∫–æ view
    ['name' => 'partners.view', ...], // –¢–æ–ª—å–∫–æ view
];
```

**–ü–æ—Å–ª–µ:**

```php
$newPermissions = [
    // Members - –≤—Å–µ CRUD permissions
    ['name' => 'members.view', ...],
    ['name' => 'members.create', ...],
    ['name' => 'members.update', ...],
    ['name' => 'members.delete', ...],

    // Partners - –≤—Å–µ CRUD permissions
    ['name' => 'partners.view', ...],
    ['name' => 'partners.create', ...],
    ['name' => 'partners.update', ...],
    ['name' => 'partners.delete', ...],
];
```

### 2. MembersManager.tsx

**–î–æ:**

```typescript
if (!can('manage_members')) {  ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π permission
```

**–ü–æ—Å–ª–µ:**

```typescript
if (!can('members.view')) {  ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π permission
```

### 3. SettingsManager.tsx

**–î–æ:**

```typescript
// –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ permission –≤ –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞  ‚ùå
```

**–ü–æ—Å–ª–µ:**

```typescript
if (!can('settings.view')) {  ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
    return <div>–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞</div>;
}
```

---

## ‚ö†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–¥–µ–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å–∞–π–¥–±–∞—Ä–µ

**–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç–∞—Ä—ã–π JWT —Ç–æ–∫–µ–Ω
**–†–µ—à–µ–Ω–∏–µ**:

```
http://localhost:3000/auth/force-logout
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É"

**–ü—Ä–∏—á–∏–Ω–∞ 1**: –ù–µ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∏–ª–∏—Å—å
**–†–µ—à–µ–Ω–∏–µ**: Force logout –∏ –≤–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ

**–ü—Ä–∏—á–∏–Ω–∞ 2**: Permissions –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã
**–†–µ—à–µ–Ω–∏–µ**:

```bash
cd kfa-backend/kfa-api
php artisan db:seed --class=AddCMSPermissionsSeeder
php artisan db:seed --class=AddMediaPermissionsSeeder
```

### –ü—Ä–æ–±–ª–µ–º–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 403 Forbidden

**–ü—Ä–∏—á–∏–Ω–∞**: Backend –Ω–µ –≤–∏–¥–∏—Ç permissions –≤ —Ç–æ–∫–µ–Ω–µ
**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

---

## üìù Backend API –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

### Members API

```php
// app/Http/Controllers/Api/MembersController.php
Route::middleware(['auth:sanctum', 'permission:members.view'])->group(function () {
    Route::get('/members', [MembersController::class, 'index']);        ‚úÖ
    Route::get('/members/{member}', [MembersController::class, 'show']); ‚úÖ
});

Route::middleware(['auth:sanctum', 'permission:members.create'])->group(function () {
    Route::post('/members', [MembersController::class, 'store']);  ‚úÖ
});

Route::middleware(['auth:sanctum', 'permission:members.update'])->group(function () {
    Route::put('/members/{member}', [MembersController::class, 'update']);  ‚úÖ
});

Route::middleware(['auth:sanctum', 'permission:members.delete'])->group(function () {
    Route::delete('/members/{member}', [MembersController::class, 'destroy']);  ‚úÖ
});
```

### Settings API

```php
// app/Http/Controllers/Api/SettingsController.php
Route::get('/settings/public', [SettingsController::class, 'public']);  ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π

Route::middleware(['auth:sanctum', 'permission:settings.view'])->group(function () {
    Route::get('/settings', [SettingsController::class, 'index']);  ‚úÖ
});

Route::middleware(['auth:sanctum', 'permission:settings.update'])->group(function () {
    Route::put('/settings', [SettingsController::class, 'update']);  ‚úÖ
});
```

---

## üéâ –ò—Ç–æ–≥

### ‚úÖ –ß—Ç–æ –ì–æ—Ç–æ–≤–æ:

1. ‚úÖ **Permissions —Å–æ–∑–¥–∞–Ω—ã** (members._, partners._, settings.\*)
2. ‚úÖ **Permissions –Ω–∞–∑–Ω–∞—á–µ–Ω—ã** admin —Ä–æ–ª–∏
3. ‚úÖ **MembersManager** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤
4. ‚úÖ **SettingsManager** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤
5. ‚úÖ **API endpoints** –∑–∞—â–∏—â–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ permissions
6. ‚úÖ **Sidebar** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–∞ —Ä–∞–∑–¥–µ–ª–∞
7. ‚úÖ **–ü–æ–ª–Ω—ã–π CRUD** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
8. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã** —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏:

1. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3000/auth/force-logout`
2. ‚úÖ –í–æ–π–¥–∏—Ç–µ —Å admin credentials
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π–¥–±–∞—Ä - –≤–∏–¥–∏—Ç–µ "–£—á–∞—Å—Ç–Ω–∏–∫–∏" –∏ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"?
4. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ `/dashboard/members` - —Ä–∞–±–æ—Ç–∞–µ—Ç!
5. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ `/dashboard/settings` - —Ä–∞–±–æ—Ç–∞–µ—Ç!
6. ‚úÖ –ù–∞—á–Ω–∏—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º! üéâ

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### CMS –°–∏—Å—Ç–µ–º–∞:

```
‚úÖ –†–∞–∑–¥–µ–ª–æ–≤: 6
   - –ù–æ–≤–æ—Å—Ç–∏
   - –°–æ–±—ã—Ç–∏—è
   - –£—á–∞—Å—Ç–Ω–∏–∫–∏  ‚Üê –ì–û–¢–û–í–û
   - –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã
   - –ü–∞—Ä—Ç–Ω–µ—Ä—ã
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏  ‚Üê –ì–û–¢–û–í–û

‚úÖ Permissions: 22
   - Content: 4
   - Events: 4
   - Members: 4  ‚Üê –ù–û–í–´–ï
   - Partners: 4  ‚Üê –†–ê–°–®–ò–†–ï–ù–ù–´–ï
   - Media: 3
   - Settings: 2  ‚Üê –ù–û–í–´–ï

‚úÖ API Endpoints: 70+
‚úÖ Frontend Pages: 7
‚úÖ Backend Models: 7
```

---

_–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ: 2025-11-13_
_–í—Å–µ –≥–æ—Ç–æ–≤–æ! –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º!_ üöÄ
